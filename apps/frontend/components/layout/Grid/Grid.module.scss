/**
 * Grid Layout Component Styles
 *
 * Provides CSS Grid layout with consistent gap spacing.
 * Supports fixed column counts and responsive auto-fit layouts.
 * Columns collapse to single column on tablet and below.
 */

@use '../../../app/breakpoints' as *;

.grid {
    display: grid;
    position: relative;
}

/* Gap size variants */
.grid_gap_sm {
    gap: var(--grid-gap-sm);
}

.grid_gap_md {
    gap: var(--grid-gap-md);
}

.grid_gap_lg {
    gap: var(--grid-gap-lg);
}

/* Fixed column variants */
.grid_cols_2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
}

.grid_cols_3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
}

/* Responsive auto-fit variant */
.grid_responsive {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

/* Tablet and below: collapse fixed columns to single column */
@media (max-width: $breakpoint-desktop) {
    .grid_cols_2,
    .grid_cols_3 {
        grid-template-columns: minmax(0, 1fr);
    }
}

/* ============================================================================
 * BACKGROUND IMAGE SYSTEM
 * ========================================================================== */

.grid::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: var(--grid-bg-image);
    background-size: var(--grid-bg-size);
    background-repeat: no-repeat;
    background-position: var(--grid-bg-position);
    opacity: var(--grid-bg-opacity);
    pointer-events: none;
    z-index: 0;
}

.grid > * {
    position: relative;
    z-index: 1;
}

.grid_no_bg_image::after {
    display: none;
}
